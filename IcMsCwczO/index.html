<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Mysql-基础总结 | HelloWorld</title>

<link rel="shortcut icon" href="https://gblw-blog.github.io/favicon.ico?v=1666530277457">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://gblw-blog.github.io/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            HelloWorld
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://yamstore.tk" class="menu gt-a-link">
                            小店
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://yamproxy.ml" class="menu gt-a-link">
                            资料库
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://status.666818.xyz" class="menu gt-a-link">
                            服务监控
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="https://gblw-blog.github.io/5i_Xj6-wL" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1666530277457" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Mysql-基础总结
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2022-10-04 ·
                    </time>
                    
                        <a href="https://gblw-blog.github.io/OZ4qB88YM/" class="post-tags">
                            # Mysql
                        </a>
                    
                        <a href="https://gblw-blog.github.io/zGCrkHYz_/" class="post-tags">
                            # 资料整理
                        </a>
                    
                </div>
                <div class="post-content">
                    <h2 id="sql分类">SQL分类</h2>
<hr>
<ul>
<li>
<p>DDL(Data Definition Language)数据定义语言<br>
用来定义数据库对象：数据库，表，列等。关键字：create, drop,alter 等</p>
</li>
<li>
<p>DML(Data Manipulation Language)数据操作语言<br>
用来对数据库中表的数据进行增删改。关键字：insert, delete, update 等</p>
</li>
<li>
<p>DQL(Data Query Language)数据查询语言<br>
用来查询数据库中表的记录(数据)。关键字：select, where 等</p>
</li>
<li>
<p>DCL(Data Control Language)数据控制语言(了解)<br>
用来定义数据库的访问权限和安全级别，及创建用户。关键字：GRANT， REVOKE 等</p>
</li>
</ul>
<hr>
<h2 id="ddl-操作数据库">DDL-操作数据库</h2>
<pre><code>- R(Retrieve)：查询
	- 查询所有数据库
</code></pre>
<pre><code>-- 查询所有数据库 
SHOW DATABASES;
</code></pre>
<pre><code>	- 查询某个数据库的创建语句
</code></pre>
<pre><code>-- 标准语法 
SHOW CREATE DATABASE 数据库名称; 
-- 查看mysql数据库的创建格式 
SHOW CREATE DATABASE mysql;
</code></pre>
<pre><code>- C(Create)：创建
	- 创建数据库
</code></pre>
<pre><code>-- 标准语法 
CREATE DATABASE 数据库名称; 
-- 创建db1数据库 
CREATE DATABASE db1; 
-- 创建一个已存在的数据库会报错 
-- 错误代码：1007  Can't create database 'db1'; database exists 
CREATE DATABASE db1;
</code></pre>
<pre><code>	- 创建数据库(判断，如果不存在则创建)
</code></pre>
<pre><code>-- 标准语法 
CREATE DATABASE IF NOT EXISTS 数据库名称; 
-- 创建数据库db2(判断，如果不存在则创建) 
CREATE DATABASE IF NOT EXISTS db2;
</code></pre>
<pre><code>	- 创建数据库、并指定字符集
</code></pre>
<pre><code>CREATE DATABASE 数据库名称 CHARACTER SET 字符集名称; 
-- 创建数据库db3、并指定字符集utf8 
CREATE DATABASE db3 CHARACTER SET utf8; 
-- 查看db3数据库的字符集 
SHOW CREATE DATABASE db3;
</code></pre>
<pre><code>- U(Update)：修改
	- 修改数据库的字符集
</code></pre>
<pre><code>-- 标准语法 
ALTER DATABASE 数据库名称 CHARACTER SET 字符集名称; 
-- 修改数据库db4的字符集为utf8 
ALTER DATABASE db4 CHARACTER SET utf8; 
-- 查看db4数据库的字符集 
SHOW CREATE DATABASE db4;
</code></pre>
<pre><code>- D(Delete)：删除
	- 删除数据库
</code></pre>
<pre><code>-- 标准语法 
DROP DATABASE 数据库名称; 
-- 删除db1数据库 
DROP DATABASE db1; 
-- 删除一个不存在的数据库会报错 
-- 错误代码：1008  Can't drop database 'db1'; database doesn't exist 
DROP DATABASE db1;
</code></pre>
<pre><code>	- 删除数据库(判断，如果存在则删除)
</code></pre>
<pre><code>-- 标准语法 
DROP DATABASE IF EXISTS 数据库名称; 
-- 删除数据库db2，如果存在 
DROP DATABASE IF EXISTS db2;
</code></pre>
<pre><code>- 使用数据库
	- 查询当前正在使用的数据库名称
</code></pre>
<pre><code>-- 查询当前正在使用的数据库 
SELECT DATABASE();
</code></pre>
<pre><code>	- 使用数据库
</code></pre>
<pre><code>-- 标准语法 
USE 数据库名称； 
-- 使用db4数据库 
USE db4;
</code></pre>
<h2 id="ddl-操作数据表">DDL-操作数据表</h2>
<hr>
<ul>
<li>R(Retrieve)：查询
<ul>
<li>查询数据库中所有的数据表</li>
</ul>
</li>
</ul>
<pre><code>-- 使用mysql数据库 
USE mysql; 
-- 查询库中所有的表 
SHOW TABLES;
</code></pre>
<pre><code>- 查询表结构
</code></pre>
<pre><code>-- 标准语法 
DESC 表名; 
-- 查询user表结构 
DESC user;
</code></pre>
<pre><code>- 查询表字符集
</code></pre>
<pre><code>-- 标准语法 
SHOW TABLE STATUS FROM 库名 LIKE '表名'; 
-- 查看mysql数据库中user表字符集 
SHOW TABLE STATUS FROM mysql LIKE 'user';
</code></pre>
<ul>
<li>C(Create)：创建
<ul>
<li>创建数据表
<ul>
<li>标准语法</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>CREATE TABLE 表名( 
    列名1 数据类型1, 
    列名2 数据类型2, 
    .... 
    列名n 数据类型n 
); 
-- 注意：最后一列，不需要加逗号
</code></pre>
<pre><code>	- 数据类型
</code></pre>
<pre><code>1. int：整数类型 
	* age int 
2. double:小数类型 
	* score double(5,2) 
	* price double 
3. date:日期，只包含年月日     yyyy-MM-dd 
4. datetime:日期，包含年月日时分秒	 yyyy-MM-dd HH:mm:ss 
5. timestamp:时间戳类型	包含年月日时分秒	 yyyy-MM-dd HH:mm:ss	 
	* 如果将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值 
6. varchar：字符串 
	* name varchar(20):姓名最大20个字符 
	* zhangsan 8个字符  张三 2个字符
</code></pre>
<pre><code>	- 创建数据表
</code></pre>
<pre><code>-- 使用db3数据库 
USE db3; 
-- 创建一个product商品表 
CREATE TABLE product( 
	id INT,				-- 商品编号 
	NAME VARCHAR(30),	-- 商品名称 
	price DOUBLE,		-- 商品价格 
	stock INT,			-- 商品库存 
	insert_time DATE    -- 上架时间 
);
</code></pre>
<pre><code>	- 复制表
</code></pre>
<pre><code>-- 标准语法 
CREATE TABLE 表名 LIKE 被复制的表名; 
-- 复制product表到product2表 
CREATE TABLE product2 LIKE product;
</code></pre>
<ul>
<li>U(Update)：修改
<ul>
<li>修改表名</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法 
ALTER TABLE 表名 RENAME TO 新的表名; 
-- 修改product2表名为product3 
ALTER TABLE product2 RENAME TO product3;
</code></pre>
<pre><code>- 修改表的字符集
</code></pre>
<pre><code>-- 标准语法 
ALTER TABLE 表名 CHARACTER SET 字符集名称; 
-- 查看db3数据库中product3数据表字符集 
SHOW TABLE STATUS FROM db3 LIKE 'product3'; 
-- 修改product3数据表字符集为gbk 
ALTER TABLE product3 CHARACTER SET gbk; 
-- 查看db3数据库中product3数据表字符集 
SHOW TABLE STATUS FROM db3 LIKE 'product3';
</code></pre>
<pre><code>- 添加一列
</code></pre>
<pre><code>-- 标准语法 
ALTER TABLE 表名 ADD 列名 数据类型; 
-- 给product3表添加一列color 
ALTER TABLE product3 ADD color VARCHAR(10);
</code></pre>
<pre><code>- 修改列名称和数据类型
</code></pre>
<pre><code>-- 修改数据类型 标准语法 
ALTER TABLE 表名 MODIFY 列名 新数据类型; 
-- 将color数据类型修改为int 
ALTER TABLE product3 MODIFY color INT; 
-- 查看product3表详细信息 
DESC product3; 
-- 修改列名和数据类型 标准语法 
ALTER TABLE 表名 CHANGE 列名 新列名 新数据类型; 
-- 将color修改为address,数据类型为varchar 
ALTER TABLE product3 CHANGE color address VARCHAR(30); 
-- 查看product3表详细信息 
DESC product3;
</code></pre>
<pre><code>- 删除列
</code></pre>
<pre><code>-- 标准语法 
ALTER TABLE 表名 DROP 列名; 
-- 删除address列 
ALTER TABLE product3 DROP address;
</code></pre>
<ul>
<li>D(Delete)：删除
<ul>
<li>删除数据表</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法 
DROP TABLE 表名; 
-- 删除product3表 
DROP TABLE product3; 
-- 删除不存在的表，会报错 
-- 错误代码：1051  Unknown table 'product3' 
DROP TABLE product3;
</code></pre>
<pre><code>- 删除数据表(判断，如果存在则删除)
</code></pre>
<pre><code>-- 标准语法 
DROP TABLE IF EXISTS 表名; 
-- 删除product3表，如果存在则删除 
DROP TABLE IF EXISTS product3;
</code></pre>
<h2 id="dml-insert语句">DML-INSERT语句</h2>
<hr>
<ul>
<li>新增表数据语法
<ul>
<li>新增格式1：给指定列添加数据</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法 
INSERT INTO 表名(列名1,列名2,...) VALUES (值1,值2,...); 
-- 向product表添加一条数据 
INSERT INTO product(id,NAME,price,stock,insert_time) VALUES (1,'手机',1999,22,'2099-09-09'); 
-- 向product表添加指定列数据 
INSERT INTO product (id,NAME,price) VALUES (2,'电脑',4999); 
-- 查看表中所有数据 
SELECT * FROM product;
</code></pre>
<pre><code>- 新增格式2：默认给全部列添加数据
</code></pre>
<pre><code>-- 标准语法 
INSERT INTO 表名 VALUES (值1,值2,值3,...); 
-- 默认给全部列添加数据 
INSERT INTO product VALUES (3,'电视',2999,18,'2099-06-06'); 
-- 查看表中所有数据 
SELECT * FROM product;
</code></pre>
<pre><code>- 新增格式3：批量添加数据
</code></pre>
<pre><code>-- 默认添加所有列数据 标准语法 
INSERT INTO 表名 VALUES (值1,值2,值3,...),(值1,值2,值3,...),(值1,值2,值3,...); 
-- 批量添加数据 
INSERT INTO product VALUES (4,'冰箱',999,26,'2099-08-08'),(5,'洗衣机',1999,32,'2099-05-10'); 
-- 查看表中所有数据 
SELECT * FROM product; 
-- 给指定列添加数据 标准语法 
INSERT INTO 表名(列名1,列名2,...) VALUES (值1,值2,...),(值1,值2,...),(值1,值2,...); 
-- 批量添加指定列数据 
INSERT INTO product (id,NAME,price) VALUES (6,'微波炉',499),(7,'电磁炉',899); 
-- 查看表中所有数据 
SELECT * FROM product;
</code></pre>
<ul>
<li>注意事项
<ul>
<li>列名和值的数量以及数据类型要对应</li>
<li>除了数字类型，其他数据类型的数据都需要加引号(单引双引都可以，推荐单引)</li>
</ul>
</li>
</ul>
<h2 id="dml-update语句">DML-UPDATE语句</h2>
<hr>
<ul>
<li>修改表数据语法</li>
</ul>
<pre><code>-- 标准语法
UPDATE 表名 SET 列名1 = 值1,列名2 = 值2,... [where 条件];
-- 修改手机的价格为3500
UPDATE product SET price=3500 WHERE NAME='手机';
-- 查看所有数据
SELECT * FROM product;
-- 修改电视的价格为1800、库存为36
UPDATE product SET price=1800,stock=36 WHERE NAME='电视';
-- 修改电磁炉的库存为10
UPDATE product SET stock=10 WHERE id=7;
</code></pre>
<ul>
<li>注意事项
<ul>
<li>修改语句中必须加条件</li>
<li>如果不加条件，则将所有数据都修改</li>
</ul>
</li>
</ul>
<h2 id="dml-delete语句">DML-DELETE语句</h2>
<hr>
<ul>
<li>删除表数据语法</li>
</ul>
<pre><code>-- 标准语法
DELETE FROM 表名 [WHERE 条件];
-- 删除product表中的微波炉信息
DELETE FROM product WHERE NAME='微波炉';
-- 删除product表中库存为10的商品信息
DELETE FROM product WHERE stock=10;
-- 查看所有商品信息
SELECT * FROM product;
</code></pre>
<ul>
<li>注意事项
<ul>
<li>删除语句中必须加条件</li>
<li>如果不加条件，则将所有数据删除</li>
</ul>
</li>
</ul>
<h2 id="dql-单表查询">DQL-单表查询</h2>
<hr>
<ul>
<li>数据准备(直接复制执行即可)</li>
</ul>
<pre><code>-- 创建db1数据库
CREATE DATABASE db1;

-- 使用db1数据库
USE db1;

-- 创建数据表
CREATE TABLE product(
    id INT,             -- 商品编号
    NAME VARCHAR(20),   -- 商品名称
    price DOUBLE,       -- 商品价格
    brand VARCHAR(10),  -- 商品品牌
    stock INT,          -- 商品库存
    insert_time DATE    -- 添加时间
);

-- 添加数据
INSERT INTO product VALUES (1,'华为手机',3999,'华为',23,'2088-03-10'),
(2,'小米手机',2999,'小米',30,'2088-05-15'),
(3,'苹果手机',5999,'苹果',18,'2088-08-20'),
(4,'华为电脑',6999,'华为',14,'2088-06-16'),
(5,'小米电脑',4999,'小米',26,'2088-07-08'),
(6,'苹果电脑',8999,'苹果',15,'2088-10-25'),
(7,'联想电脑',7999,'联想',NULL,'2088-11-11');
</code></pre>
<ul>
<li>查询语法</li>
</ul>
<pre><code>select
    字段列表
from
    表名列表
where
    条件列表
group by
    分组字段
having
    分组之后的条件
order by
    排序
limit
    分页限定
</code></pre>
<ul>
<li>查询全部</li>
</ul>
<pre><code>-- 标准语法
SELECT * FROM 表名;

-- 查询product表所有数据
SELECT * FROM product;
</code></pre>
<ul>
<li>查询部分
<ul>
<li>多个字段查询</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法 
SELECT 列名1,列名2,... FROM 表名; 
-- 查询名称、价格、品牌 
SELECT NAME,price,brand FROM product;
</code></pre>
<pre><code>- 去除重复查询
	- 注意：只有全部重复的才可以去除
</code></pre>
<pre><code>-- 标准语法 
SELECT DISTINCT 列名1,列名2,... FROM 表名; 
-- 查询品牌 
SELECT brand FROM product; 
-- 查询品牌，去除重复 
SELECT DISTINCT brand FROM product;
</code></pre>
<pre><code>- 计算列的值(四则运算)
</code></pre>
<pre><code>-- 标准语法 
SELECT 列名1 运算符(+ - * /) 列名2 FROM 表名; 
/* 
	计算列的值 
	标准语法： 
		SELECT 列名1 运算符(+ - * /) 列名2 FROM 表名; 
	如果某一列为null，可以进行替换 
	ifnull(表达式1,表达式2) 
	表达式1：想替换的列 
	表达式2：想替换的值 
*/ 
-- 查询商品名称和库存，库存数量在原有基础上加10 
SELECT NAME,stock+10 FROM product; 
-- 查询商品名称和库存，库存数量在原有基础上加10。进行null值判断 
SELECT NAME,IFNULL(stock,0)+10 FROM product;
</code></pre>
<pre><code>- 起别名
</code></pre>
<pre><code>-- 标准语法 
SELECT 列名1,列名2,... AS 别名 FROM 表名; 
-- 查询商品名称和库存，库存数量在原有基础上加10。进行null值判断。起别名为getSum 
SELECT NAME,IFNULL(stock,0)+10 AS getsum FROM product; 
SELECT NAME,IFNULL(stock,0)+10 getsum FROM product;
</code></pre>
<ul>
<li>条件查询
<ul>
<li>条件分类<br>
<img src="https://gblw-blog.github.io/post-images/1664882881093.jpg" alt="" loading="lazy"></li>
<li>条件查询语法</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法
SELECT 列名 FROM 表名 WHERE 条件;
-- 查询库存大于20的商品信息
SELECT * FROM product WHERE stock &gt; 20;
-- 查询品牌为华为的商品信息
SELECT * FROM product WHERE brand='华为';
-- 查询金额在4000 ~ 6000之间的商品信息
SELECT * FROM product WHERE price &gt;= 4000 AND price &lt;= 6000;
SELECT * FROM product WHERE price BETWEEN 4000 AND 6000;
-- 查询库存为14、30、23的商品信息
SELECT * FROM product WHERE stock=14 OR stock=30 OR stock=23;
SELECT * FROM product WHERE stock IN(14,30,23);
-- 查询库存为null的商品信息
SELECT * FROM product WHERE stock IS NULL;
-- 查询库存不为null的商品信息
SELECT * FROM product WHERE stock IS NOT NULL;
-- 查询名称以小米为开头的商品信息
SELECT * FROM product WHERE NAME LIKE '小米%';
-- 查询名称第二个字是为的商品信息
SELECT * FROM product WHERE NAME LIKE '_为%';
-- 查询名称为四个字符的商品信息
SELECT * FROM product WHERE NAME LIKE '____';
-- 查询名称中包含电脑的商品信息
SELECT * FROM product WHERE NAME LIKE '%电脑%';
</code></pre>
<ul>
<li>聚合函数
<ul>
<li>将一列数据作为一个整体，进行纵向的计算</li>
<li>聚合函数分类<br>
<img src="https://gblw-blog.github.io/post-images/1664882840366.jpg" alt="" loading="lazy"></li>
<li>聚合函数语法</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法
SELECT 函数名(列名) FROM 表名 [WHERE 条件];
-- 计算product表中总记录条数
SELECT COUNT(*) FROM product;
-- 获取最高价格
SELECT MAX(price) FROM product;
-- 获取最高价格的商品名称
SELECT NAME,price FROM product WHERE price = (SELECT MAX(price) FROM product);
-- 获取最低库存
SELECT MIN(stock) FROM product;
-- 获取最低库存的商品名称
SELECT NAME,stock FROM product WHERE stock = (SELECT MIN(stock) FROM product);
-- 获取总库存数量
SELECT SUM(stock) FROM product;
-- 获取品牌为苹果的总库存数量
SELECT SUM(stock) FROM product WHERE brand='苹果';
-- 获取品牌为小米的平均商品价格
SELECT AVG(price) FROM product WHERE brand='小米';
</code></pre>
<ul>
<li>排序查询
<ul>
<li>排序分类
<ul>
<li>注意：多个排序条件，当前边的条件值一样时，才会判断第二条件<br>
<img src="https://gblw-blog.github.io/post-images/1664882780748.jpg" alt="" loading="lazy"></li>
</ul>
</li>
<li>排序语法</li>
</ul>
</li>
</ul>
<pre><code>-- 标准语法
SELECT 列名 FROM 表名 [WHERE 条件] ORDER BY 列名1 排序方式1,列名2 排序方式2;
-- 按照库存升序排序
SELECT * FROM product ORDER BY stock ASC;
-- 查询名称中包含手机的商品信息。按照金额降序排序
SELECT * FROM product WHERE NAME LIKE '%手机%' ORDER BY price DESC;
-- 按照金额升序排序，如果金额相同，按照库存降序排列
SELECT * FROM product ORDER BY price ASC,stock DESC;
</code></pre>
<ul>
<li>分组查询</li>
</ul>
<pre><code>-- 标准语法
SELECT 列名 FROM 表名 [WHERE 条件] GROUP BY 分组列名 [HAVING 分组后条件过滤] [ORDER BY 排序列名 排序方式];
-- 按照品牌分组，获取每组商品的总金额
SELECT brand,SUM(price) FROM product GROUP BY brand;
-- 对金额大于4000元的商品，按照品牌分组,获取每组商品的总金额
SELECT brand,SUM(price) FROM product WHERE price &gt; 4000 GROUP BY brand;
-- 对金额大于4000元的商品，按照品牌分组，获取每组商品的总金额，只显示总金额大于7000元的
SELECT brand,SUM(price) AS getSum FROM product WHERE price &gt; 4000 GROUP BY brand HAVING getSum &gt; 7000;
-- 对金额大于4000元的商品，按照品牌分组，获取每组商品的总金额，只显示总金额大于7000元的、并按照总金额的降序排列
SELECT brand,SUM(price) AS getSum FROM product WHERE price &gt; 4000 GROUP BY brand HAVING getSum &gt; 7000 ORDER BY getSum DESC;
</code></pre>
<ul>
<li>分页查询</li>
</ul>
<pre><code>-- 标准语法
SELECT 列名 FROM 表名 [WHERE 条件] GROUP BY 分组列名 [HAVING 分组后条件过滤] [ORDER BY 排序列名 排序方式] LIMIT 开始索引,查询条数;
-- 公式：开始索引 = (当前页码-1) * 每页显示的条数
-- 每页显示2条数据
SELECT * FROM product LIMIT 0,2;  -- 第一页 开始索引=(1-1) * 2
SELECT * FROM product LIMIT 2,2;  -- 第二页 开始索引=(2-1) * 2
SELECT * FROM product LIMIT 4,2;  -- 第三页 开始索引=(3-1) * 2
SELECT * FROM product LIMIT 6,2;  -- 第四页 开始索引=(4-1) * 2
</code></pre>
<ul>
<li>分页查询图解<br>
<img src="https://gblw-blog.github.io/post-images/1664882612349.png" alt="" loading="lazy"></li>
</ul>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://gblw-blog.github.io/6Nas0HqUb/" class="post-title gt-a-link">
                    Mysql-进阶总结
                </a>
            </div>
        

        
            <span id="/IcMsCwczO//" class="leancloud_visitors" data-flag-title="Mysql-基础总结">
                <em class="post-meta-item-text">阅读量 </em>
                <i class="leancloud-visitors-count">0</i>
            </span>
        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: '',
		pageSize: 5,
		recordIp: true,
		placeholder: 'Just Go Go',
		visitor: true,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">花有重开日，人无再少年</div>
    <div class="social-container">
        
            
                <a href="https://github.com/gblaowang-i" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
                <a href="https://twitter.com/Wsnd_D" target="_blank">
                    <i class="fab fa-twitter gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        菩提本无树，明镜亦非台，本来无一物，何处惹尘埃。
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://gblw-blog.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
